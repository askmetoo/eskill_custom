{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2021-01-12 13:58:50.895869",
 "css": "@font-face {\n\tfont-family: DaxlinePro;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/DaxlinePro.ttf);\n}\n\n@font-face {\n\tfont-family: Neuropol;\n\tfont-style: normal;\n\tfont-weight: 300;\n\tsrc: url(/fonts/NeuropolXRG.ttf);\n}\n\n@font-face {\n    font-family: 'Atlanta';\n    src: url(/fonts/Atlanta-Book.woff2) format('woff2'),\n        url(/fonts/Atlanta-Book.woff) format('woff'),\n        url(/fonts/Atlanta-Book.ttf) format('truetype');\n    font-weight: normal;\n    font-style: normal;\n    font-display: swap;\n}\n\n.print-format { \n    padding: 0mm !important;\n    font-family: 'Atlanta';\n}\n\nbody, p, span, div, element {\n    color: #474c51;\n    letter-spacing: normal !important;\n}\n\n#header-image {\n    background-image: url(/files/Eskill_Header.jpg);\n    display: table;\n    width: 100%;\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 38mm;\n    background-position: left top;\n    padding-top: 7mm !important;\n}\n\n.layout-table, .layout-row, .layout-div {\n    margin: 0 !important;\n    padding: 0 !important;\n    width: 100% !important;\n}\n\n.layout-cell {\n    margin: 0 !important;\n    padding: 0 !important;\n    height: 100%;\n    vertical-align: top;\n}\n\n\n\n#print-heading {\n    font-family: DaxlinePro;\n    font-size: 18pt;\n    font-weight: bold;\n    line-height: 1;\n    padding: 0mm !important;\n    margin-top: 4mm !important;\n    margin-right: 6mm !important;\n    margin-bottom: 3mm !important;\n    text-align: right;\n}\n\n#company-info-cell {\n    width: 40%;\n}\n\n#company-info {\n    font-size: 7pt;\n    margin-left: 6mm !important;\n}\n\n#project-name-cell {\n    width: 35%;\n    vertical-align: bottom;\n}\n\n#tax-info-cell {\n    width: 25%;\n}\n\n#tax-info {\n    font-size: 7pt;\n    text-align: right;\n    margin-right: 5mm;\n    margin-top: 5mm;\n}\n\n#tax-info p {\n    margin: 0;\n    padding: 0;\n}\n\n#top-info {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n}\n\n#middle-section-div {\n    min-height: 12cm;\n    height: 12cm;\n}\n\n#total-section {\n    margin-left: 7mm;\n    margin-right: 7mm;\n    margin-bottom: 1mm;\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n    overflow: hidden;\n}\n\n.black-box {\n    border: 1px solid #474c51;\n    border-radius: 3px;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-box {\n    border: 1px solid #ffbc1f;\n    border-radius: 3px;\n    background-color: #ffbc1f;\n    padding: 0.5mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: auto;\n    overflow: hidden;\n    min-height: 12mm;\n}\n\n.yellow-bar {\n    background-color: #ffbc1f;\n    border-radius: 2px;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.filled-grey-box {\n    border: 1px solid #cfcfcf;\n    border-radius: 3px;\n    background-color: #cfcfcf;\n    padding: 1mm;\n    margin-left: 1mm;\n    margin-bottom: 1mm;\n    width: auto;\n    height: 12mm;\n    overflow: hidden;\n    min-height: 12mm;\n    max-height: 12mm;\n    color: #000000 !important;\n}\n\n\n.black-bar {\n    border-bottom: 1px solid #252525;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #252525;\n}\n\n.box-content-left {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: left;\n    overflow: hidden;\n}\n\n.box-content-center {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: center;\n    overflow: hidden;\n}\n\n.box-content-right {\n    padding: 1mm;\n    font-size: 9pt;\n    text-align: right;\n    overflow: hidden;\n}\n\n#customer-info {\n    width: 65%;\n    padding: 0 !important;\n    height: auto;\n}\n\n#customer {\n    height: 33mm;\n    max-height: 33mm;\n    min-height: 33mm;\n}\n\n#document-info {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#document-number-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#page-cell, #date-cell, #other-number-cell, #exchange-rate-cell, #customer-vat-cell, #customer-ref-cell {\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#document-number {\n    font-weight: bold;\n    font-size: 12pt;\n}\n\n#customer-currency-cell {\n    width: 10%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#salesperson-cell {\n    width: 35%;\n    margin: 0 !important;\n    padding: 0!important;\n    height: 12mm;\n    vertical-align: middle;\n}\n\n#other-number, #customer-currency, #exchange-rate, #customer-vat, #customer-ref, #salesperson {\n    font-weight: normal;\n    font-size: 9pt;\n}\n\n.project-name {\n    padding: 0mm;\n    font-size: 8pt;\n    text-align: center;\n    overflow: hidden;\n    font-weight: bold;\n    vertical-align: middle !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    border-radius: 4px;\n}\n\n#project-text {\n    display: table;\n    float: left;\n    text-align: left;\n}\n\n#project-text p {\n        display: table-cell;\n        vertical-align: middle !important;\n        height: 40px;\n        min-height: 40px;\n        max-height: 40px;\n}\n\n#project-icon {\n    display: inline-block;\n    width: 40px !important;\n    height: 40px !important;\n    max-height: 40px !important;\n    object-fit: none;\n    float: left;\n}\n\n.yellow-head-center {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-left {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n.yellow-head-right {\n    background-color: #ffbc1f;\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 7pt;\n    font-weight: bold;\n    color: #2a2a2a;\n    padding: 0 5px 0 5px;\n}\n\n#items {\n    table-layout: fixed;\n}\n\n#item-line { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-item { width: 16% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-description { width: 45% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-qty { width: 5% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-price { width: 11% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-uom { width: 7% !important; padding: 0 !important; border-right: 1px solid #ffbc1f; }\n#item-total { width: 11% !important; padding: 0 !important; }\n\n#item-line, #item-item, #item-qty, #item-uom, #item-price, #item-total, #item-description {\n    height: auto;\n}\n\n#item-line div, #item-item div, #item-qty div, #item-uom div, #item-price div, #item-total div { \n    overflow: hidden;\n    max-height: 12pt;\n    height: 12pt;\n}\n\n#item-description div.yellow-head-left, #item-description div.yellow-head-center, #item-description div.yellow-head-right {\n    max-height: 12pt;\n    height: 12pt;\n}\n\n.cell-content-center {\n    width: 100%;\n    text-align: center;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-left {\n    width: 100%;\n    text-align: left;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n.cell-content-right {\n    width: 100%;\n    text-align: right;\n    line-height: 1.5;\n    font-size: 8pt !important;\n    font-weight: normal;\n    padding: 0 5px 0 5px;\n}\n\n#bank-info-cell {\n    width: 65%;\n    padding: 0 !important;\n}\n\n#bank-info {\n    height:30mm;\n    min-height: 30mm;\n    max-height: 30mm;\n    overflow: hidden;\n}\n\n.bank-account {\n    display: inline;\n    float: left;\n    font-size: 8pt;\n    line-height: 1.2;\n    margin: 1%;\n    width: 23%;\n    color: #252525;\n}\n\n#totals-info-cell {\n    width: 35%;\n    padding: 0 !important;\n}\n\n#totals-info {\n    height: 43mm;\n    max-height: 43mm;\n    min-height: 43mm;\n}\n\n#fiscal-signature {\n    height: 10mm;\n    min-height: 10mm;\n    max-height: 10mm;\n    /* border: 1px dashed #494949; */\n    border-radius: 3px;\n    margin-left: 8mm;\n    margin-right: 7mm;\n    margin-bottom: 10mm;\n}\n\n#footer {\n    display: table;\n    width: 100%;\n    background-image: url(/files/Eskill_Footer.jpg);\n    background-size: 211mm;\n    background-repeat: no-repeat;\n    height: 24mm;\n    background-position: left bottom;\n}\n\n#customer-signature {\n    display: table-cell;\n    vertical-align: bottom;\n    margin: 0;\n    font-size: 8pt;\n}\n\n#customer-signature p {\n    border-top: 1px dotted #000;\n    font-size: 8pt;\n    width: 120mm;\n    margin-left: 20mm;\n    margin-bottom: 6mm;\n    text-align: center;\n    padding-top: 1mm;\n}\n\n.banner120pt {\n    display: table;\n    min-height: 120pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n.banner240pt {\n    display: table;\n    min-height: 240pt;\n    width: 100%;\n    text-align: center;\n    opacity: 0.2;\n}\n\n#banner {\n    display: table-cell;\n    vertical-align: middle !important;\n}\n\n#banner img {\n    vertical-align: middle !important;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% macro projectsvg(project_colour) %}\n\n    <svg id=\"Layer_1\" style=\"enable-background:new 0 0 512 512; width:35px; height: 35px;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><style type=\"text/css\">\n    \t.st0{fill:{{ project_colour }};}\n    \t.st1{fill:#232323;}\n    </style><g id=\"XMLID_174_\"><path class=\"st0\" d=\"M41,315.8c-5.8,0-11.4-1.6-16.4-4.6L6,300v172.5h67.5V297.1l-11,10.2   C56.7,312.8,49,315.8,41,315.8z\" id=\"XMLID_3390_\"/><polygon class=\"st0\" id=\"XMLID_183_\" points=\"143.2,232.4 143.2,472.6 210.8,472.6 210.8,225.5 176.1,201.8  \"/><path class=\"st0\" d=\"M290.2,273.1c-6.4,0-12.6-1.9-17.9-5.5l-13.3-9.1v214h67.5V251.8L311,265.4   C305.2,270.4,297.8,273.1,290.2,273.1z\" id=\"XMLID_182_\"/><polygon class=\"st0\" id=\"XMLID_175_\" points=\"378.5,472.6 446,472.6 446,148 378.5,206.7  \"/><path class=\"st1\" d=\"M401.1,69.3L429,96.4L288.8,217.5l-105.1-71.8c-7.3-5-17.2-4.3-23.7,1.8l-121.6,113L6.1,240.9   v44.4l25.1,15.1c7.3,4.4,16.5,3.4,22.8-2.4l120.9-112.4l104.6,71.5c7.1,4.9,16.7,4.3,23.2-1.3l153.7-132.9l23,22.3L506,39.4   L401.1,69.3z\" id=\"XMLID_498_\"/></g></svg>\n\n{% endmacro %}\n\n{% macro pageheader() %}\n\n<!DOCTYPE html>\n\n<div id=\"header-image\" class=\"layout-div\">\n    \n    <div id=\"print-heading\">{{ \"QUOTATION\" }}</div>\n\n    <!-- Company Information -->\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"company-info-cell\">\n                <div id=\"company-info\">\n                    <p>{{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line1\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"address_line2\") }}, {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"city\") }}</p>\n                    <p>Phone: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"phone\") }}<br>Email: {{ frappe.db.get_value(\"Address\", \"Eskill Trading-Office\", \"email_id\") }}</p>\n                </div>\n            </td>\n            \n            \n            <td class=\"layout-cell\" id=\"project-name-cell\">\n                {% if doc.project %}\n                    {% set thisproject= frappe.get_doc(\"Project\", doc.project) %}\n                    {% set project_style = 'style=\\\"font-weight: bold; color: ' ~ thisproject.project_colour ~ '; border: 2px solid ' ~ thisproject.project_colour ~ ';\\\"' | safe %}\n                    <table class=\"layout-table\">\n                        <tbody><tr class=\"layout-row\">\n                            <td class=\"layout-cell\" style=\"vertical-align: middle;\">\n                                <div class=\"project-name\" {{ project_style }}>\n                                  <span id=\"project-icon\">\n                                    {{ projectsvg(thisproject.project_colour) }}\n                                  </span>\n                                  <span id=\"project-text\">  \n                                    {% set project_title_style = 'style=\\\"color: ' ~ thisproject.project_colour ~ '; font-weight: bold;\\\"' | safe %}\n                                    <p {{ project_title_style }}>PROJECT<br>{{ doc.project | truncate(27, True) }}</p>\n                                    \n                                  </span>\n                                </div>\n                            </td>\n                        </tr></tbody>\n                    </table>\n                {% endif %}\n            </td>\n            \n            <!-- Tax Information -->\n            <td class=\"layout-cell\" id=\"tax-info-cell\">\n                <div id=\"tax-info\">\n                    <p>VAT Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"tax_id\") }}</p>\n                    <p>BP Number: {{ frappe.db.get_value(\"Company\", \"Eskill Trading (Pvt) Ltd\", \"bp_number\") }}</p>\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n</div>\n<div id=\"top-info\">\n    <table class=\"layout-table\">\n        <tbody>\n        <tr class=\"layout-row\">\n            \n            <!-- Customer Name and Address -->\n            <td class=\"layout-cell\" id=\"customer-info\">\n                <div class=\"black-box\">\n                    <div class=\"yellow-bar\">\n                        {{ \"Quoted To\" }}\n                    </div>\n                    <div class=\"box-content-left\" id=\"customer\">{{ doc.customer_name }}<br>{% if doc.address_display %}{{ doc.address_display }}{% endif %}</div>\n                </div>\n            </td>\n        \n            <!-- Document Information -->\n            <td class=\"layout-cell\" id=\"document-info\">\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"date-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Quotation Date\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"date\">{% if doc.transaction_date %}{{ doc.get_formatted('transaction_date') }}{% else %}NOT POSTED{% endif %}</div>\n                                </div>\n                            </td>\n                            <td class=\"layout-cell\" id=\"page-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">Page</div>\n                                    <div class=\"box-content-center\" id=\"page\">{{ page_count.value }} of {{ page_total.value }}</div>\n                                </div>                                \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <table class=\"layout-table\">\n                    <tbody>\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"document-number-cell\">\n                                <div class=\"black-box\">\n                                    <div class=\"yellow-bar\">\n                                        {{ \"Quotation Number\" }}\n                                    </div>\n                                    <div class=\"box-content-center\" id=\"document-number\">\n                                        {% if doc.name %}{{ doc.name }}{% endif %}\n                                    </div>\n                                </div>\n                            </td>                            \n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\" id=\"other-number-cell\">\n                                <div class=\"black-box\">\n                                        <div class=\"yellow-bar\">Valid Until</div>\n                                        <div class=\"box-content-center\" id=\"other-number\">\n                                            {% if doc.valid_till %}{{ doc.get_formatted('valid_till') }}{% else %}{{ doc.get_formatted('transaction_date') }}{% endif %}\n                                        </div>\n                                </div>\n                            </td>                            \n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        \n        </tr>\n        </tbody>\n    </table>\n    <table class=\"layout-table\">\n        <tbody>\n            <tr class=\"layout-row\">\n                <td class=\"layout-cell\" id=\"customer-currency-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Currency</div>\n                        <div class=\"box-content-center\" id=\"customer-currency\">\n                            {{ doc.currency }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"customer-vat-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Customer VAT</div>\n                        <div class=\"box-content-center\" id=\"customer-vat\">\n                            {% set thiscustomer= frappe.get_doc(\"Customer\", doc.party_name) %}\n                            {{ thiscustomer.tax_id }}\n                        </div>\n                    </div>                    \n                </td>\n                <td class=\"layout-cell\" id=\"salesperson-cell\">\n                    <div class=\"black-box\">\n                        <div class=\"yellow-bar\">Salesperson</div>\n                        <div class=\"box-content-center\" id=\"salesperson\">\n                            {{ doc.sales_person |default(\"Eskill Sales Team\", true) }}\n                        </div>\n                    </div>                    \n                </td>\n                \n                \n            </tr>\n        </tbody>\n    </table>\n\n\n</div>\n<div id=\"middle-section\">\n    <div class=\"black-box\" id=\"middle-section-div\">\n        <table id=\"items\" class=\"layout-table\">\n            <tbody>\n                <tr class=\"layout-row\">\n                    <td class=\"layout-cell\" id=\"item-line\"><div class=\"yellow-head-left\" style=\"border-top-left-radius: 2px; border-bottom-left-radius: 2px;\">Line</div></td>\n                    <td class=\"layout-cell\" id=\"item-item\"><div class=\"yellow-head-left\">Item</div></td>\n                    <td class=\"layout-cell\" id=\"item-description\"><div class=\"yellow-head-left\">Description</div></td>\n                    <td class=\"layout-cell\" id=\"item-qty\"><div class=\"yellow-head-right\">Qty</div></td>\n                    <td class=\"layout-cell\" id=\"item-uom\"><div class=\"yellow-head-center\">UOM</div></td>\n                    <td class=\"layout-cell\" id=\"item-price\"><div class=\"yellow-head-right\">Unit Price</div></td>\n                    <td class=\"layout-cell\" id=\"item-total\"><div class=\"yellow-head-right\" style=\"border-top-right-radius: 2px; border-bottom-right-radius: 2px;\">Total</div></td>\n                </tr>\n\n{% endmacro %}\n\n\n{% macro pagefooter() %}\n    </tbody></table>\n    </div>\n</div>\n<div id=\"total-section\">\n    <table class=\"layout-table\">\n        <tr class=\"layout-row\">\n            <td class=\"layout-cell\" id=\"bank-info-cell\">\n                {% set banks = frappe.get_all('Bank Account', filters={'display_on_invoice': '1'}, fields=['bank_account_no', 'branch_code', 'display_name', 'account_type' ], order_by='account_type') %}\n                <div class=\"yellow-box\" id=\"bank-info\">\n                    <div class=\"yellow-bar\">Banking Details</div>\n                    {% for bank in banks %}\n                        <div class=\"bank-account\" >\n                            {{ bank.display_name }}<br>{{ bank.branch_code }}<br>{{ bank.bank_account_no }}\n                        </div>\n                    {% endfor %}\n                </div>\n                <div class=\"filled-grey-box\">\n                    <div class=\"box-content-center\" style=\"font-size: 7pt; color: #000000 !important;\">\n                        {% if doc.terms %}{{ doc.terms }}{% endif %}\n                    </div>\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"totals-info-cell\">\n                <div class=\"black-box\" id=\"totals-info\">\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Sub-Total</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.net_total) }}</div></td>\n                        </tr>                        \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">Discount</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.discount_amount) }}</div></td>\n                        </tr> \n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\">VAT</div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(doc.total_taxes_and_charges) }}</div></td>\n                        </tr>\n                        <tr class=\"layout-row\" style=\"border-top: 2px solid #ffbc1f;\">\n                            <td class=\"layout-cell\"><div class=\"cell-content-left\" style=\"font-size: 11pt;\"><strong>TOTAL</strong></div></td>\n                            <td class=\"layout-cell\"><div class=\"cell-content-right\" style=\"font-size: 11pt;\"><strong>{{ \"{:,.2f}\".format(doc.grand_total) }}</strong></div></td>\n                        </tr>\n                    </table>\n                    <table class=\"layout-table\">\n                        <tr class=\"layout-row\">\n                            <td class=\"layout-cell\">\n                                <div class=\"cell-content-center\" style=\"font-size: 9pt;\"><em><strong>\n                                    {% set thiscurrency= frappe.get_doc(\"Currency\", doc.currency) %}\n                                    ({{ thiscurrency.display_name }})\n                                </strong></em></div>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n                \n            </td>\n        </tr>\n    </table>\n</div>\n\n<div id=\"fiscal-signature\"></div>\n<div id=\"footer\">\n    <div id=\"customer-signature\">\n\n    </div>\n</div>\n\n{% endmacro %}\n\n{% set line_total = namespace(value=0) %}\n{% set page_total = namespace(value=0) %}\n{% set page_count = namespace(value=1) %}\n{% set line_count = namespace(value=0) %}\n{% set free_line_count = namespace(value=0) %}\n{% set break_now = namespace(value=0) %}\n\n{% for item in doc.items %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% set line_total.value = line_total.value + this_line_count %}\n    {% set page_float = line_total.value / 27 %}\n    {% set page_total.value = page_float | round(0, 'ceil') | int %}\n{% endfor %}\n\n{{ pageheader() }}\n\n{% for item in doc.items %}\n    {% set itemloop = loop %}\n    {% set wrapped_description %}\n        {{ item.item_name | wordwrap(50,true,'<br>') }}\n        {% if item.serial_no %}\n            <br><em>\n            {% set serial_list = item.serial_no.split('\\n') %}\n            {% for serial in serial_list %}\n                {{ serial | truncate(50,true) }}\n                {% if not loop.last %}<br>{% endif %}\n            {% endfor %}\n            </em>\n        {% endif %}\n    {% endset %}\n    {% set line_list = wrapped_description.split('<br>') %}\n    {% set this_line_count | float %}{{ line_list | count }}{% endset %}\n    {% if line_count.value == 27 %}\n        {{ pagefooter() }}\n        <div style=\"page-break-before: always;\"></div>\n        {% set page_count.value = page_count.value + 1 %}\n        {% set line_count.value = 0 %}\n        {{ pageheader() }}\n    {% endif %}\n    {% if loop.last %}\n        {% set free_line_count.value = 27 - line_count.value - this_line_count %}\n        {% if free_line_count.value >= 0 %}\n            <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n        {% else %}\n            <tr class=\"layout-row\">\n        {% endif %}\n    {% else %}\n        <tr class=\"layout-row\">\n    {% endif %}\n\n            <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\">{{ item.idx }}</div></td>\n            <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\">{{ item.item_code | truncate(15, True) }}</div></td>\n            <td class=\"layout-cell\" id=\"item-description\">\n                <div class=\"cell-content-left\">\n                    {% for line in line_list %}\n                        {{ line }}\n                        {% if not loop.last and line_count.value < 27 %}<br>{% endif %}\n                        {% set line_count.value = line_count.value + 1 %}\n                        {% if line_count.value == 27 and not loop.last %}\n                            </div></td>\n                            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{{ item.qty }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{{ item.uom }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.rate) }}</div></td>\n                            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{{ \"{:,.2f}\".format(item.amount) }}</div></td>                        \n                            </tr>\n                            {% set break_now.value = 1 %}\n                            {{ pagefooter() }}\n                            <div style=\"page-break-before: always;\"></div>\n                            {% set page_count.value = page_count.value + 1 %}\n                            {% set line_count.value = 0 %}\n                            {{ pageheader() }}\n                            {% if itemloop.last %}\n                                <tr class=\"layout-row\" style=\"border-bottom: 3px solid #ffbc1f;\">\n                                {% set free_line_count.value = 27 - line_count.value - this_line_count + loop.index %}\n                            {% else %}\n                                <tr class=\"layout-row\">\n                            {% endif %}\n                                <td class=\"layout-cell\" id=\"item-line\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-item\"><div class=\"cell-content-left\"></div></td>\n                                <td class=\"layout-cell\" id=\"item-description\">\n                                    <div class=\"cell-content-left\">\n                        {% endif %}\n                    {% endfor %}\n                </div>\n            </td>\n            <td class=\"layout-cell\" id=\"item-qty\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ item.qty }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-uom\"><div class=\"cell-content-center\">{% if break_now.value != 1 %}{{ item.uom }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-price\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.rate) }}{% endif %}</div></td>\n            <td class=\"layout-cell\" id=\"item-total\"><div class=\"cell-content-right\">{% if break_now.value != 1 %}{{ \"{:,.2f}\".format(item.amount) }}{% endif %}</div></td>                        \n            {% set break_now.value = 0 %}\n        </tr>\n        \n    {% if loop.last and free_line_count.value > 9 and free_line_count.value < 20 %}\n        </tbody></table>\n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner120pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 160px/120pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<div id=\"banner\">{{ banner_image }}</div>{% endif %}\n        </div>\n       \n\n    {% elif loop.last and free_line_count.value >= 20 %}\n        </tbody></table>       \n        {% set divheight = free_line_count.value * 12 %}\n        {% set divstyle = 'style=\\\"height: ' ~ divheight ~ 'pt;\\\"' %}\n        <div class=\"banner240pt\" {{ divstyle }}>\n            {% set bannerlist = namespace(path=[]) %}\n            {% set banners = frappe.get_all('Banner', filters={'allow_for_print': '1', 'banner_size': 'Height 320px/240pt'}, fields=['file_path']) %}\n            {% for banner in banners %}\n                {% if loop.first %}\n                    {% set bannerlist.path = [ banner.file_path ] %}\n                {% else %}\n                    {% set bannerlist.path = [ bannerlist.path, banner.file_path ] %}\n                {% endif %}\n            {% endfor %}\n            {% set banner_path = bannerlist.path|random %}\n            {% set banner_image = '<img src=\\\"' ~ banner_path ~ '\\\">' | safe %}\n            {% if banner_path %}<span id=\"banner\">{{ banner_image }}</span>{% endif %}            \n        </div>\n        \n\n    {% endif %}\n{% endfor %}\n\n{{ pagefooter() }}\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-04-11 00:44:21.905268",
 "modified_by": "Administrator",
 "module": "Eskill Customisations",
 "name": "Eskill Quotation",
 "owner": "neil@eskilltrading.com",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}